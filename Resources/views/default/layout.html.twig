<!DOCTYPE html>
<html lang="{{ app.request.locale|split('_')|first|default('en') }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, noodp, noimageindex, notranslate, nocache" />
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <meta name="generator" content="HarmonyAdmin" />

  <title>{% block page_title %}{{ block('content_title')|striptags|raw|trim }}{% endblock %}</title>

  {% block head_stylesheets %}
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/bootstrap.min.css') }}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/font-awesome.min.css') }}">
    <!-- Ionicons -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/ionicons.min.css') }}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/AdminLTE.min.css') }}">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/_all-skins.min.css') }}">
    <!-- Morris chart -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/morris.css') }}">
    <!-- jvectormap -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/jquery-jvectormap.css') }}">
    <!-- Date Picker -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/bootstrap-datepicker.min.css') }}">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/daterangepicker.css') }}">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheets/bootstrap3-wysihtml5.min.css') }}">
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    {#<style>#}
      {#{{ harmonyadmin_config('_internal.custom_css')|raw }}#}
    {#</style>#}
  {% endblock %}

  {% for css_asset in harmonyadmin_config('design.assets.css') %}
    <link rel="stylesheet" href="{{ asset(css_asset) }}">
  {% endfor %}

  {% block head_favicon %}
    {% set favicon = harmonyadmin_config('design.assets.favicon') %}
    <link rel="icon" type="{{ favicon.mime_type }}" href="{{ asset(favicon.path) }}" />
  {% endblock %}

  {% block head_javascript %}
  {% block adminlte_options %}
    <script type="text/javascript">
      var AdminLTEOptions = {
        animationSpeed: 'normal',
        sidebarExpandOnHover: false,
        enableBoxRefresh: false,
        enableBSToppltip: false,
        enableFastclick: false,
        enableControlSidebar: false,
        enableBoxWidget: false
      };
    </script>
  {% endblock %}

    <script src="{{ asset('bundles/harmonyadmin/javascript/admin-all.min.js') }}"></script>
  {% endblock head_javascript %}

  {% if harmonyadmin_config('design.rtl') %}
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheet/bootstrap-rtl.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/harmonyadmin/stylesheet/adminlte-rtl.min.css') }}">
  {% endif %}
</head>

{% block body %}
  <body id="{% block body_id %}{% endblock %}" class="hold-transition skin-blue sidebar-mini {% block body_class %}{% endblock %} {{ app.request.cookies.has('_harmonyadmin_navigation_iscollapsed') ? 'sidebar-collapse' }}">
    <div class="wrapper">
      {% block wrapper %}
        <header class="main-header">
          {% block header %}
            <!-- Logo -->
            {% block header_logo %}
              <a title="{{ harmonyadmin_config('site_name')|striptags }}" href="{{ path('admin') }}" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><b>{{ harmonyadmin_config('site_name')|striptags|first }}</b></span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg">{{ harmonyadmin_config('site_name')|raw }}</span>
              </a>
            {% endblock header_logo %}

            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top">
              <!-- Sidebar toggle button-->
              <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                <span class="sr-only">{{ 'toggle_navigation'|trans(domain = 'HarmonyAdminBundle') }}</span>
              </a>

              <div class="navbar-custom-menu">
                {% block header_custom_menu %}
                  {% set _logout_path = harmonyadmin_logout_path() %}
                  <ul class="nav navbar-nav">
                    <li><a href="#" title="Visit site"><i class="fa fa-home"></i></a></li>
                    <li class="dropdown user user-menu">
                      {% block user_menu %}
                        <span class="sr-only">{{ 'user.logged_in_as'|trans(domain = 'HarmonyAdminBundle') }}</span>
                        {% if app.user|default(false) == false %}
                          <i class="hidden-xs fa fa-user-times"></i>
                          {{ 'user.anonymous'|trans(domain = 'HarmonyAdminBundle') }}
                        {% elseif not _logout_path %}
                          <i class="hidden-xs fa fa-user"></i>
                          {{ app.user.username|default('user.unnamed'|trans(domain = 'HarmonyAdminBundle')) }}
                        {% else %}
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                            <i class="hidden-xs fa fa-user-o"></i>
                            <span>{{ app.user.username|default('user.unnamed'|trans(domain = 'HarmonyAdminBundle')) }}</span>
                          </a>
                          <ul class="dropdown-menu" role="menu">
                            {% block user_menu_dropdown %}
                              <li class="user-footer">
                                <div class="pull-left">
                                  <a href="#" class="btn btn-default btn-flat">Profile</a>
                                </div>
                                <div class="pull-right">
                                  <a href="{{ _logout_path }}" class="btn btn-default btn-flat">{{ 'user.signout'|trans(domain = 'HarmonyAdminBundle') }}</a>
                                </div>
                              </li>
                              {% if is_granted('ROLE_PREVIOUS_ADMIN') %}
                                <li>
                                  <a href="?_switch_user=_exit"><i class="fa fa-sign-out"></i> {{ 'user.exit_impersonation'|trans(domain = 'HarmonyAdminBundle') }}</a>
                                </li>
                              {% endif %}
                            {% endblock user_menu_dropdown %}
                          </ul>
                        {% endif %}
                      {% endblock user_menu %}
                    </li>
                  </ul>
                {% endblock header_custom_menu %}
              </div>
            </nav>
          {% endblock header %}
        </header>

        <aside class="main-sidebar">
          {% block sidebar %}
            <section class="sidebar">
              {% block main_menu_wrapper %}
                {{ include([
                  _entity_config is defined ? _entity_config.templates.menu,
                  harmonyadmin_config('design.templates.menu'),
                  '@HarmonyAdmin/default/menu.html.twig'
                ]) }}
              {% endblock main_menu_wrapper %}
            </section>
          {% endblock sidebar %}
        </aside>

        <div class="content-wrapper">
          {% block content %}
            {% block flash_messages %}
              {{ include(_entity_config is defined ? _entity_config.templates.flash_messages : '@HarmonyAdmin/default/flash_messages.html.twig') }}
            {% endblock flash_messages %}

            <section class="content-header">
              {% block content_header %}
                <h1 class="title">{% block content_title %}{% endblock %}</h1>
              {% endblock content_header %}
              {% block content_help %}
                {% if _entity_config is defined and _entity_config[app.request.query.get('action')]['help']|default(false) %}
                  <div class="box box-widget help-entity">
                    <div class="box-body">
                      {{ _entity_config[app.request.query.get('action')]['help']|trans|raw }}
                    </div>
                  </div>
                {% endif %}
              {% endblock content_help %}
            </section>

            <section id="main" class="content">
              {% block main %}{% endblock %}
            </section>
          {% endblock content %}
        </div>
      {% endblock wrapper %}
    </div>

    {% block body_javascript %}{% endblock body_javascript %}

    {% for js_asset in harmonyadmin_config('design.assets.js') %}
      <script src="{{ asset(js_asset) }}"></script>
    {% endfor %}
  </body>
{% endblock body %}
</html>